{
    "framework": "pytorch",
    "task": "domain-specific-object-detection",
    "pipeline": {
        "type": "tinynas-detection"
    },
    "preprocessor": {
        "train": {
            "mosaic_mixup": {
                "mosaic_prob": 1.0,
                "mosaic_scale": [0.1, 2.0],
                "mosaic_size": [640, 640],
                "mixup_prob": 0.15,
                "mixup_scale": [0.5, 1.5],
                "degrees": 10.0,
                "translate": 0.2,
                "shear": 2.0
            },
            "transform": {
                "image_mean": [0.0, 0.0, 0.0],
                "image_std": [1.0, 1.0, 1.0],
                "image_max_range": [640, 640],
                "flip_prob": 0.5,
                "autoaug_dict": {
                    "box_prob": 0.3,
                    "num_subpolicies": 5,
                    "scale_splits": [2048, 10240, 51200],
                    "autoaug_params": [6, 9, 5, 3, 3, 4, 2, 4, 4, 4, 5, 2, 4, 1, 4, 2, 6, 4, 2, 2, 2, 6, 2, 2, 2, 0, 5, 1, 3, 0, 8, 5, 2, 8, 7, 5, 1, 3, 3, 3]
                }
            }
        },
        "evaluation": {
            "transform": {
                "image_mean": [0.0, 0.0, 0.0],
                "image_std": [1.0, 1.0, 1.0],
                "image_max_range": [640, 640],
                "flip_prob": 0.0
            }
        }

    },
    "model": {
        "type": "tinynas-damoyolo",
        "weights": "damoyolo_tinynasL25_S_facemask.pt",
        "backbone": {
            "name": "TinyNAS_res",
            "structure_file": "tinynas_L25_k1kx.txt",
            "out_indices": [2, 4, 5],
            "with_spp": true,
            "use_focus": true,
            "act": "relu",
            "reparam": true
        },
        "neck": {
            "name": "GiraffeNeckV2",
            "depth": 1.0,
            "hidden_ratio": 0.75,
            "in_channels": [128, 256, 512],
            "out_channels": [128, 256, 512],
            "act": "relu",
            "spp": false,
            "block_name": "BasicBlock_3x3_Reverse"
        },
        "head": {
            "name": "ZeroHead",
            "num_classes": 3,
            "in_channels": [128, 256, 512],
            "stacked_convs": 0,
            "reg_max": 16,
            "act": "silu",
            "nms_conf_thre": 0.05,
            "nms_iou_thre": 0.7
        }
    },
    "train": {
        "gpu_ids": [0, 1, 2, 3, 4, 5, 6, 7],
        "ema": true,
        "ema_momentum": 0.9998,
        "max_epochs": 300,
        "no_aug_epochs": 16,
        "work_dir": "./workdirs",
        "resume_path": null,
        "finetune_path": null,
        "miscs": {
            "print_interval_iters": 50,
            "exp_name": "damoyolo_s",
            "seed": 1234,
            "eval_interval_epochs": 1,
            "ckpt_interval_epochs": 1

        },
        "optimizer": {
            "type": "SGD",
            "lr": 0.04,
            "momentum": 0.9,
            "weight_decay": 5e-4
        },
        "dataloader": {
            "batch_size_per_gpu": 64,
            "workers_per_gpu": 4
        },
        "lr_scheduler": {
            "type": "CosineLR",
            "warmup_start_lr": 0,
            "min_lr_ratio": 0.05,
            "warmup_epochs": 5
        }
    },
    "evaluation": {
        "batch_size": 64,
        "checkpoint_path": null
    },
    "dataset": {
        "train_image_dir": "",
        "val_image_dir": "",
        "train_ann": "",
        "val_ann": ""
    }
}
